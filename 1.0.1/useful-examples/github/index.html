
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="-> The core Python library for Sudoblark, mainly used to power CLI tooling to augment CI/CD operations.">
      
      
        <meta name="author" content="Benjamin Clark">
      
      
        <link rel="canonical" href="https://sudoblark.github.io/sudoblark.python.core/1.0.1/useful-examples/github/">
      
      
        <link rel="prev" href="../../developers-notes/style-guide/">
      
      
        <link rel="next" href="../../known-interfaces/github/client/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.5">
    
    
      
        <title>GitHub - The core Python library for Sudoblark</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.8608ea7d.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#githubclient-useful-examples" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="The core Python library for Sudoblark" class="md-header__button md-logo" aria-label="The core Python library for Sudoblark" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            The core Python library for Sudoblark
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              GitHub
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
    
      <div class="md-header__source">
        <a href="https://github.com/sudoblark/sudoblark.python.core" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    sudoblark/sudoblark.python.core
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="The core Python library for Sudoblark" class="md-nav__button md-logo" aria-label="The core Python library for Sudoblark" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    The core Python library for Sudoblark
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/sudoblark/sudoblark.python.core" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    sudoblark/sudoblark.python.core
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../usage/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Usage
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Developers Notes
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Developers Notes
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developers-notes/operating-principles/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Operating Principles
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developers-notes/style-guide/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Style Guide
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Useful Examples
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Useful Examples
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    GitHub
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    GitHub
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#repositories" class="md-nav__link">
    <span class="md-ellipsis">
      Repositories
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Repositories">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#get-all-repositories-in-an-organisation" class="md-nav__link">
    <span class="md-ellipsis">
      Get all repositories in an organisation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get-a-personal-repository" class="md-nav__link">
    <span class="md-ellipsis">
      Get a personal repository:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get-a-repository-in-an-organisation" class="md-nav__link">
    <span class="md-ellipsis">
      Get a repository in an organisation
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pull-requests" class="md-nav__link">
    <span class="md-ellipsis">
      Pull Requests
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Pull Requests">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#get-all-pull-requests-for-a-given-repository" class="md-nav__link">
    <span class="md-ellipsis">
      Get all pull requests for a given repository
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#comments" class="md-nav__link">
    <span class="md-ellipsis">
      Comments
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Comments">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#get-all-comments-on-a-given-pull-request" class="md-nav__link">
    <span class="md-ellipsis">
      Get all comments on a given pull request
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post-a-comment-on-a-given-pull-request" class="md-nav__link">
    <span class="md-ellipsis">
      Post a comment on a given pull request
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#update-the-last-comment-from-a-given-user" class="md-nav__link">
    <span class="md-ellipsis">
      Update the last comment from a given user
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#overwrite-the-last-comment-from-a-given-user" class="md-nav__link">
    <span class="md-ellipsis">
      Overwrite the last comment from a given user
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delete-the-last-comment-from-a-given-user" class="md-nav__link">
    <span class="md-ellipsis">
      Delete the last comment from a given user
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#interaction-with-pull-requests-within-a-cicd-environment" class="md-nav__link">
    <span class="md-ellipsis">
      Interaction with pull requests within a CI/CD environment
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Interaction with pull requests within a CI/CD environment">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#adding-a-new-comment" class="md-nav__link">
    <span class="md-ellipsis">
      Adding a new comment
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Known Interfaces
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Known Interfaces
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1" >
        
          
          <label class="md-nav__link" for="__nav_5_1" id="__nav_5_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    GitHub
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1">
            <span class="md-nav__icon md-icon"></span>
            GitHub
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../known-interfaces/github/client/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Client
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../known-interfaces/github/organisation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Organisation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../known-interfaces/github/repository/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Repository
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../known-interfaces/github/pull-request/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PullRequest
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../known-interfaces/github/pull-request-state/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PullRequestState
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../known-interfaces/github/comment/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Comment
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#repositories" class="md-nav__link">
    <span class="md-ellipsis">
      Repositories
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Repositories">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#get-all-repositories-in-an-organisation" class="md-nav__link">
    <span class="md-ellipsis">
      Get all repositories in an organisation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get-a-personal-repository" class="md-nav__link">
    <span class="md-ellipsis">
      Get a personal repository:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get-a-repository-in-an-organisation" class="md-nav__link">
    <span class="md-ellipsis">
      Get a repository in an organisation
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pull-requests" class="md-nav__link">
    <span class="md-ellipsis">
      Pull Requests
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Pull Requests">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#get-all-pull-requests-for-a-given-repository" class="md-nav__link">
    <span class="md-ellipsis">
      Get all pull requests for a given repository
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#comments" class="md-nav__link">
    <span class="md-ellipsis">
      Comments
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Comments">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#get-all-comments-on-a-given-pull-request" class="md-nav__link">
    <span class="md-ellipsis">
      Get all comments on a given pull request
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post-a-comment-on-a-given-pull-request" class="md-nav__link">
    <span class="md-ellipsis">
      Post a comment on a given pull request
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#update-the-last-comment-from-a-given-user" class="md-nav__link">
    <span class="md-ellipsis">
      Update the last comment from a given user
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#overwrite-the-last-comment-from-a-given-user" class="md-nav__link">
    <span class="md-ellipsis">
      Overwrite the last comment from a given user
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delete-the-last-comment-from-a-given-user" class="md-nav__link">
    <span class="md-ellipsis">
      Delete the last comment from a given user
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#interaction-with-pull-requests-within-a-cicd-environment" class="md-nav__link">
    <span class="md-ellipsis">
      Interaction with pull requests within a CI/CD environment
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Interaction with pull requests within a CI/CD environment">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#adding-a-new-comment" class="md-nav__link">
    <span class="md-ellipsis">
      Adding a new comment
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="githubclient-useful-examples">GitHubClient useful examples</h1>
<p>Once a <code>GITHUB_TOKEN</code> is present in your environment variables, the below
examples should work just fine.</p>
<p>For more information on why this is required, and how to generate such a 
token, see <a href="../../known-interfaces/github/client/">GitHubClient</a> documentation.</p>
<h2 id="repositories">Repositories</h2>
<h3 id="get-all-repositories-in-an-organisation">Get all repositories in an organisation</h3>
<pre><code class="language-python">from sudoblark_python_core import GitHubClient
client = GitHubClient()
for repository in client.get_organisation(&quot;sudoblark&quot;).get_repositories():
    print(repository)
</code></pre>
<h3 id="get-a-personal-repository">Get a personal repository:</h3>
<pre><code class="language-python">from sudoblark_python_core import GitHubClient
client = GitHubClient()
print(client.get_repository(&quot;benjaminlukeclark&quot;, &quot;Get-Duplicate-Files&quot;))
</code></pre>
<h3 id="get-a-repository-in-an-organisation">Get a repository in an organisation</h3>
<ul>
<li>Either traverse via the Organisation instance:</li>
</ul>
<pre><code class="language-python">from sudoblark_python_core import GitHubClient
client = GitHubClient()
organisation = client.get_organisation(&quot;sudoblark&quot;)
print(organisation.get_repository(&quot;sudoblark.terraform.github&quot;))
</code></pre>
<ul>
<li>Or simply query the base client with the Organisation as the owner:</li>
</ul>
<pre><code class="language-python">from sudoblark_python_core import GitHubClient
client = GitHubClient()
print(client.get_repository(&quot;sudoblark&quot;, &quot;sudoblark.terraform.github&quot;))
</code></pre>
<h2 id="pull-requests">Pull Requests</h2>
<h3 id="get-all-pull-requests-for-a-given-repository">Get all pull requests for a given repository</h3>
<pre><code class="language-python">from sudoblark_python_core import GitHubClient
client = GitHubClient()
repository = client.get_repository(&quot;sudoblark&quot;, &quot;sudoblark.terraform.github&quot;)
for request in repository.get_pull_requests(&quot;all&quot;):
    print(request)
</code></pre>
<h2 id="comments">Comments</h2>
<h3 id="get-all-comments-on-a-given-pull-request">Get all comments on a given pull request</h3>
<pre><code class="language-python">from sudoblark_python_core import GitHubClient
client = GitHubClient()
pull_request = client.get_repository(&quot;vexx32&quot;, &quot;PSKoans&quot;).get_pull_request(241)
for comment in pull_request.get_comments():
    print(comment)
</code></pre>
<h3 id="post-a-comment-on-a-given-pull-request">Post a comment on a given pull request</h3>
<pre><code class="language-python">from sudoblark_python_core import GitHubClient
client = GitHubClient()
pull_request = client.get_repository(&quot;sudoblark&quot;, &quot;sudoblark.python.core&quot;).get_pull_request(3)
body = &quot;Open the pod bay doors hal.&quot;
pull_request.post_comment(body)
</code></pre>
<p><img alt="New Comment" src="new_comment.png" /></p>
<h3 id="update-the-last-comment-from-a-given-user">Update the last comment from a given user</h3>
<pre><code class="language-python">from sudoblark_python_core import GitHubClient
client = GitHubClient()
pull_request = client.get_repository(&quot;sudoblark&quot;, &quot;sudoblark.python.core&quot;).get_pull_request(3)
comments = pull_request.get_comments()

found = False
new_body = &quot;\n\nI'm sorry Dave, I'm afraid I can't do that&quot;
intended_author = &quot;sudoblark-bot&quot;

while not found and len(comments) &gt; 0:
    comment = comments.pop()
    if comment.author == intended_author:
        comment.update(new_body)
        found = True
</code></pre>
<p><img alt="Updated comment" src="updated_comment.png" /></p>
<h3 id="overwrite-the-last-comment-from-a-given-user">Overwrite the last comment from a given user</h3>
<pre><code class="language-python">from sudoblark_python_core import GitHubClient
client = GitHubClient()
pull_request = client.get_repository(&quot;sudoblark&quot;, &quot;sudoblark.python.core&quot;).get_pull_request(3)
comments = pull_request.get_comments()

found = False
new_body = &quot;What the heck is going on here lads&quot;
intended_author = &quot;sudoblark-bot&quot;

while not found and len(comments) &gt; 0:
    comment = comments.pop()
    if comment.author == intended_author:
        comment.overwrite(new_body)
        found = True
</code></pre>
<p><img alt="Overwritten comment" src="overwritten_comment.png" /></p>
<h3 id="delete-the-last-comment-from-a-given-user">Delete the last comment from a given user</h3>
<pre><code class="language-python">from sudoblark_python_core import GitHubClient
client = GitHubClient()
pull_request = client.get_repository(&quot;sudoblark&quot;, &quot;sudoblark.python.core&quot;).get_pull_request(3)
comments = pull_request.get_comments()

found = False
new_body = &quot;What the heck is going on here lads&quot;
intended_author = &quot;sudoblark-bot&quot;

while not found and len(comments) &gt; 0:
    comment = comments.pop()
    if comment.author == intended_author:
        comment.delete()
        found = True
</code></pre>
<h2 id="interaction-with-pull-requests-within-a-cicd-environment">Interaction with pull requests within a CI/CD environment</h2>
<p>Given the intended operation within CI/CD environments, there are some
examples below for how to use these classes to interact with pull requests
in the simplest manner possible.</p>
<p>This all follow two assumptions:</p>
<ul>
<li><code>GITHUB_TOKEN</code> is an environment variable available to the agent running the job</li>
<li><code>./file.md</code> is present, and contains the markdown we wish to utilise for the comment</li>
</ul>
<blockquote>
<p><strong><em>NOTE:</em></strong>  As an Organisation is listed as the owner of a repository, these
example will work both for repositories which are:</p>
<ul>
<li>Present on a personal GitHub account</li>
<li>Stored within an Organisation</li>
</ul>
</blockquote>
<p>All of these examples essentially rely upon the fact that most CI/CD systems out
there prepopulate information in the build with contextual information. Said contextual
information can be used to discover the pull request associated with the build
with relative ease. The docs regarding what values are prepopulated, and how,
have been linked below for reference.</p>
<table>
<thead>
<tr>
<th>Platform</th>
<th>Docs</th>
<th>Syntax</th>
</tr>
</thead>
<tbody>
<tr>
<td>GitHub Actions</td>
<td><a href="https://docs.github.com/en/actions/writing-workflows/choosing-what-your-workflow-does/store-information-in-variables">docs</a></td>
<td>Grab via environment variables</td>
</tr>
<tr>
<td>Azure DevOps pipelines</td>
<td><a href="https://learn.microsoft.com/en-us/azure/devops/pipelines/build/variables?view=azure-devops&amp;tabs=yaml">docs</a></td>
<td>Reference via <code>"$(VAR_NAME)"</code> directly in script, or <br/>add to the <code>env</code> block of you task to <br/>reference via an environment variable</td>
</tr>
<tr>
<td>CircleCI</td>
<td><a href="https://circleci.com/docs/variables/#built-in-environment-variables">docs</a></td>
<td>Reference via environment variables</td>
</tr>
</tbody>
</table>
<h3 id="adding-a-new-comment">Adding a new comment</h3>
<details close>
<summary>GitHub Actions</summary>
<br>


<pre><code class="language-python">import os
from sudoblark_python_core import GitHubClient

REPO_OWNER: str = os.getenv(&quot;GITHUB_REPOSITORY_OWNER&quot;)
REPO_NAME: str = os.getenv(&quot;GITHUB_REPOSITORY&quot;).split(&quot;/&quot;)[-1]
PULL_REQUEST_ID: int = int(os.getenv(&quot;GITHUB_REF_NAME&quot;).split(&quot;/&quot;)[0])

client = GitHubClient()
repository = client.get_repository(REPO_OWNER, REPO_NAME)
pull_request = repository.get_pull_request(PULL_REQUEST_ID)

with open(&quot;./file.md&quot;, &quot;r&quot;) as file:
    content = file.read()

pull_request.post_comment(content)
</code></pre>


</details>
<p><br></p>
<details close>
<summary>Azure DevOps pipelines</summary>
<br>


<pre><code class="language-python">from sudoblark_python_core import GitHubClient

REPO_OWNER: str = &quot;$(Build.Repository.Name)&quot;.split(&quot;/&quot;)[0]
REPO_NAME: str = &quot;$(Build.Repository.Name)&quot;.split(&quot;/&quot;)[-1]
PULL_REQUEST_ID: int = int(&quot;$(System.PullRequest.PullRequestNumber)&quot;)

client = GitHubClient()
repository = client.get_repository(REPO_OWNER, REPO_NAME)
pull_request = repository.get_pull_request(PULL_REQUEST_ID)

with open(&quot;./file.md&quot;, &quot;r&quot;) as file:
    content = file.read()

pull_request.post_comment(content)
</code></pre>


</details>
<p><br></p>
<details close>
<summary>CircleCI</summary>
<br>


<pre><code class="language-python">import os
from sudoblark_python_core import GitHubClient

REPO_OWNER: str = os.getenv(&quot;CIRCLE_PR_REPONAME&quot;).split(&quot;/&quot;)[0]
REPO_NAME: str = os.getenv(&quot;CIRCLE_PR_REPONAME&quot;).split(&quot;/&quot;)[-1]
PULL_REQUEST_ID: int = int(os.getenv(&quot;CIRCLE_PR_NUMBER&quot;).split(&quot;/&quot;)[0])

client = GitHubClient()
repository = client.get_repository(REPO_OWNER, REPO_NAME)
pull_request = repository.get_pull_request(PULL_REQUEST_ID)

with open(&quot;./file.md&quot;, &quot;r&quot;) as file:
    content = file.read()

pull_request.post_comment(content)
</code></pre>


</details>
<p><br></p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      BSD-3
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.f1b6f286.min.js"></script>
      
    
  </body>
</html>